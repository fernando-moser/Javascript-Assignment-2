<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <title>Exercise 5</title>
    <style>
        html {
            font-family: Arial, Helvetica, sans-serif;
            font-size: 150%;
        }
    </style>
    <script src="NumberChecker.js"></script>
    <script src="util.js"></script>
    <script>
        window.onload = function () {

            document.querySelector('button').addEventListener('click', DisplayStats);

        }

        function DisplayStats() {
            //1. Get the input from user
            let inputStringValues = document.getElementById('values').value;
            let inputStringMax = document.getElementById('max').value;

            //2. Validate if input is not a Number and Convert them to numbers
            //2.1 Validate key
            let inputNumberValues = 0, inputNumberMax;
            if (!isInteger(inputStringValues) || !isInteger(inputStringMax)) {
                DisplayHTMLMessage('error', 'Numbers must be integers');
                CleanResults('input', 'output');
                return;
            } else {
                inputNumberValues = Number(inputStringValues);
                inputNumberMax = Number(inputStringMax);
                CleanResults('error');
            }

            //3Display results
            //3.1 Display inputs
            document.getElementById('input').innerHTML = BuildElementResult('Values: ' + inputStringValues, 'Max: ' + inputStringMax);

            //3.2 Generate the *
            //3.2.1 Get how many whole lines to write
            let outputHowManyLines = Math.floor(inputNumberValues / inputNumberMax);
            //3.2.2 Get how many lefts * to write
            let outputHowManyLeftOvers = inputNumberValues % inputNumberMax;
            //3.2.1.1 Write whole lines
            let arrayLines = [];
            let output = "";
            for (let i = 0; i < outputHowManyLines; i++) {
                for(let i = 0; i < inputNumberMax; i++) {
                    output += '*';
                }
                arrayLines.push(output);
                output = "";
            }
            //3.2.1.2 Write leftover lines
            if (outputHowManyLeftOvers != 0) {
                for (let i = 1; i <= outputHowManyLeftOvers; i++) {
                    output += '*';
                }
                arrayLines.push(output);
            }
            document.getElementById('output').innerHTML = BuildElementResultArray(arrayLines);
        }
    </script>

</head>

<body>
    Enter the number<br><br>
    Num of stars <input id="values"><br>
    Max starts per line <input id="max">
    <button>Generate</button>
    <div id="error"></div><br>
    Input:
    <div id="input"></div>
    Output:
    <div id="output"></div>
</body>

</html>